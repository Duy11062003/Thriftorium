{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ADMIN\\\\OneDrive - FPT Corporation\\\\Documents\\\\GitHub\\\\Thriftorium\\\\src\\\\pages\\\\ProductDetails\\\\ProductDetails.js\",\n  _s = $RefreshSig$();\n// src/pages/ProductDetails/ProductDetails.js\nimport React, { useState, useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport Breadcrumbs from \"../../components/pageProps/Breadcrumbs\";\nimport ProductInfo from \"../../components/pageProps/productDetails/ProductInfo\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst importImage = fileName => {\n  try {\n    // Đường dẫn đến thư mục src/assets/images/products/bestSeller\n    return require(`../../assets/images/products/bestSeller/${fileName}`);\n  } catch (err) {\n    console.warn(\"Cannot load image:\", fileName);\n    return \"\"; // trả về chuỗi rỗng nếu load thất bại\n  }\n};\n\nconst ProductDetails = () => {\n  _s();\n  const location = useLocation();\n  const [prevLocation, setPrevLocation] = useState(\"\");\n  const [productInfo, setProductInfo] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [modalImage, setModalImage] = useState(\"\");\n  useEffect(() => {\n    var _location$state;\n    if ((_location$state = location.state) !== null && _location$state !== void 0 && _location$state.item) {\n      setProductInfo(location.state.item);\n    } else {\n      // Dữ liệu giả để test nếu không có state\n      setProductInfo({\n        name: \"Round Table Clock\",\n        price: 44.0,\n        description: [\"Lorem ipsum dolor sit amet consectetur adipiscing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis.\"],\n        color: \"Black\",\n        categories: [\"Spring collection\", \"Streetwear\", \"Women\"],\n        tags: [\"featured\"],\n        sku: \"N/A\",\n        images: [\"roundtableclock1.webp\", \"roundtableclock2.webp\", \"roundtableclock3.webp\", \"roundtableclock4.webp\"]\n      });\n    }\n    setPrevLocation(location.pathname);\n  }, [location]);\n  const handleImageClick = src => {\n    setModalImage(src);\n    setShowModal(true);\n  };\n  const closeModal = () => {\n    setShowModal(false);\n  };\n  if (!productInfo) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 12\n    }, this);\n  }\n\n  // Khởi tạo mảng ảnh, nếu productInfo.images undefined thì sẽ là []\n  const images = Array.isArray(productInfo.images) ? productInfo.images : [];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-full mx-auto border-b-[1px] border-b-gray-300\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-container mx-auto px-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"xl:-mt-10 -mt-7\",\n        children: /*#__PURE__*/_jsxDEV(Breadcrumbs, {\n          title: \"\",\n          prevLocation: prevLocation\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full grid grid-cols-1 md:grid-cols-2 xl:grid-cols-6 gap-4 h-full -mt-5 xl:-mt-8 pb-10 bg-gray-100 p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"h-full xl:col-span-2 grid grid-cols-2 gap-4\",\n          children: images.length > 0 ? images.map((img, idx) => {\n            const src = importImage(img);\n            return src && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cursor-pointer\",\n              onClick: () => handleImageClick(src),\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: src,\n                alt: `${productInfo.name}-${idx}`,\n                className: \"w-full h-48 object-cover rounded-lg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 23\n              }, this)\n            }, idx, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 21\n            }, this);\n          }) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-span-2 text-center text-gray-500\",\n            children: \"No images available\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"h-full w-full md:col-span-2 xl:col-span-3 xl:p-14 flex flex-col gap-6 justify-center\",\n          children: /*#__PURE__*/_jsxDEV(ProductInfo, {\n            productInfo: productInfo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), showModal && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed inset-0 bg-gray-800 bg-opacity-75 flex items-center justify-center z-50\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: closeModal,\n            className: \"absolute top-0 right-0 p-4 text-white font-bold text-2xl\",\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: modalImage,\n            alt: \"Enlarged product\",\n            className: \"max-w-full max-h-[80vh] object-contain\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductDetails, \"d2OoIYTChxwUN9iWjSxhpd6RN1o=\", false, function () {\n  return [useLocation];\n});\n_c = ProductDetails;\nexport default ProductDetails;\nvar _c;\n$RefreshReg$(_c, \"ProductDetails\");","map":{"version":3,"names":["React","useState","useEffect","useLocation","Breadcrumbs","ProductInfo","importImage","fileName","require","err","console","warn","ProductDetails","location","prevLocation","setPrevLocation","productInfo","setProductInfo","showModal","setShowModal","modalImage","setModalImage","state","item","name","price","description","color","categories","tags","sku","images","pathname","handleImageClick","src","closeModal","Array","isArray","length","map","img","idx"],"sources":["C:/Users/ADMIN/OneDrive - FPT Corporation/Documents/GitHub/Thriftorium/src/pages/ProductDetails/ProductDetails.js"],"sourcesContent":["// src/pages/ProductDetails/ProductDetails.js\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport Breadcrumbs from \"../../components/pageProps/Breadcrumbs\";\r\nimport ProductInfo from \"../../components/pageProps/productDetails/ProductInfo\";\r\n\r\nconst importImage = (fileName) => {\r\n  try {\r\n    // Đường dẫn đến thư mục src/assets/images/products/bestSeller\r\n    return require(`../../assets/images/products/bestSeller/${fileName}`);\r\n  } catch (err) {\r\n    console.warn(\"Cannot load image:\", fileName);\r\n    return \"\"; // trả về chuỗi rỗng nếu load thất bại\r\n  }\r\n};\r\n\r\nconst ProductDetails = () => {\r\n  const location = useLocation();\r\n  const [prevLocation, setPrevLocation] = useState(\"\");\r\n  const [productInfo, setProductInfo] = useState(null);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [modalImage, setModalImage] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (location.state?.item) {\r\n      setProductInfo(location.state.item);\r\n    } else {\r\n      // Dữ liệu giả để test nếu không có state\r\n      setProductInfo({\r\n        name: \"Round Table Clock\",\r\n        price: 44.0,\r\n        description: [\r\n          \"Lorem ipsum dolor sit amet consectetur adipiscing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis.\",\r\n        ],\r\n        color: \"Black\",\r\n        categories: [\"Spring collection\", \"Streetwear\", \"Women\"],\r\n        tags: [\"featured\"],\r\n        sku: \"N/A\",\r\n        images: [\r\n          \"roundtableclock1.webp\",\r\n          \"roundtableclock2.webp\",\r\n          \"roundtableclock3.webp\",\r\n          \"roundtableclock4.webp\",\r\n        ],\r\n      });\r\n    }\r\n    setPrevLocation(location.pathname);\r\n  }, [location]);\r\n\r\n  const handleImageClick = (src) => {\r\n    setModalImage(src);\r\n    setShowModal(true);\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setShowModal(false);\r\n  };\r\n\r\n  if (!productInfo) {\r\n    return <div>Loading...</div>;\r\n  }\r\n\r\n  // Khởi tạo mảng ảnh, nếu productInfo.images undefined thì sẽ là []\r\n  const images = Array.isArray(productInfo.images) ? productInfo.images : [];\r\n\r\n  return (\r\n    <div className=\"w-full mx-auto border-b-[1px] border-b-gray-300\">\r\n      <div className=\"max-w-container mx-auto px-4\">\r\n        <div className=\"xl:-mt-10 -mt-7\">\r\n          <Breadcrumbs title=\"\" prevLocation={prevLocation} />\r\n        </div>\r\n\r\n        <div className=\"w-full grid grid-cols-1 md:grid-cols-2 xl:grid-cols-6 gap-4 h-full -mt-5 xl:-mt-8 pb-10 bg-gray-100 p-4\">\r\n          {/* Gallery ảnh nhỏ */}\r\n          <div className=\"h-full xl:col-span-2 grid grid-cols-2 gap-4\">\r\n            {images.length > 0 ? (\r\n              images.map((img, idx) => {\r\n                const src = importImage(img);\r\n                return (\r\n                  src && (\r\n                    <div\r\n                      key={idx}\r\n                      className=\"cursor-pointer\"\r\n                      onClick={() => handleImageClick(src)}\r\n                    >\r\n                      <img\r\n                        src={src}\r\n                        alt={`${productInfo.name}-${idx}`}\r\n                        className=\"w-full h-48 object-cover rounded-lg\"\r\n                      />\r\n                    </div>\r\n                  )\r\n                );\r\n              })\r\n            ) : (\r\n              <div className=\"col-span-2 text-center text-gray-500\">\r\n                No images available\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Thông tin sản phẩm */}\r\n          <div className=\"h-full w-full md:col-span-2 xl:col-span-3 xl:p-14 flex flex-col gap-6 justify-center\">\r\n            <ProductInfo productInfo={productInfo} />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Modal hiển thị ảnh lớn */}\r\n        {showModal && (\r\n          <div className=\"fixed inset-0 bg-gray-800 bg-opacity-75 flex items-center justify-center z-50\">\r\n            <div className=\"relative\">\r\n              <button\r\n                onClick={closeModal}\r\n                className=\"absolute top-0 right-0 p-4 text-white font-bold text-2xl\"\r\n              >\r\n                &times;\r\n              </button>\r\n              <img\r\n                src={modalImage}\r\n                alt=\"Enlarged product\"\r\n                className=\"max-w-full max-h-[80vh] object-contain\"\r\n              />\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductDetails;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}