{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ADMIN\\\\OneDrive - FPT Corporation\\\\Documents\\\\GitHub\\\\Thriftorium\\\\src\\\\pages\\\\ProductDetails\\\\ProductDetails.js\",\n  _s = $RefreshSig$();\n// src/pages/ProductDetails/ProductDetails.js\nimport React, { useState, useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport Breadcrumbs from \"../../components/pageProps/Breadcrumbs\";\nimport ProductInfo from \"../../components/pageProps/productDetails/ProductInfo\";\n\n// Tạo context để import tất cả file trong thư mục bestSeller\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst bestSellerCtx = require.context(\"../../assets/images/products/bestSeller\", false, /\\.(png|jpe?g|webp)$/);\nconst ProductDetails = () => {\n  _s();\n  const location = useLocation();\n\n  // Khởi tạo luôn có key images\n  const [productInfo, setProductInfo] = useState({\n    images: []\n  });\n  const [prevLocation, setPrevLocation] = useState(\"\");\n  const [showModal, setShowModal] = useState(false);\n  const [modalImage, setModalImage] = useState(\"\");\n  useEffect(() => {\n    var _location$state;\n    if ((_location$state = location.state) !== null && _location$state !== void 0 && _location$state.item) {\n      setProductInfo({\n        ...location.state.item,\n        images: location.state.item.images || []\n      });\n    } else {\n      // Hardcode sample để test\n      setProductInfo({\n        name: \"Round Table Clock\",\n        price: 44.0,\n        description: [\"Lorem ipsum dolor sit amet consectetur adipiscing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis.\"],\n        color: \"Black\",\n        categories: [\"Spring collection\", \"Streetwear\", \"Women\"],\n        tags: [\"featured\"],\n        sku: \"N/A\",\n        images: [\"roundtableclock1.webp\", \"roundtableclock2.webp\", \"roundtableclock3.webp\", \"roundtableclock4.webp\"]\n      });\n    }\n    setPrevLocation(location.pathname);\n  }, [location]);\n\n  // Luôn luôn là mảng (ít nhất là [])\n  const images = productInfo.images || [];\n  const openImage = src => {\n    setModalImage(src);\n    setShowModal(true);\n  };\n  const closeModal = () => setShowModal(false);\n  if (!productInfo) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 28\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-full mx-auto border-b-[1px] border-b-gray-300 bg-gray-100\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-container mx-auto px-4 pt-6\",\n      children: [/*#__PURE__*/_jsxDEV(Breadcrumbs, {\n        title: \"Product\",\n        prevLocation: prevLocation\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-6 grid grid-cols-1 md:grid-cols-2 xl:grid-cols-6 gap-4 pb-10\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"xl:col-span-2 grid grid-cols-2 gap-4\",\n          children: images.length > 0 ? images.map((fileName, idx) => {\n            let src = \"\";\n            try {\n              src = bestSellerCtx(`./${fileName}`);\n            } catch (e) {\n              console.warn(\"Không tìm thấy ảnh\", fileName);\n            }\n            if (!src) return null;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cursor-pointer overflow-hidden rounded-lg\",\n              onClick: () => openImage(src),\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: src,\n                alt: `product-${idx}`,\n                className: \"w-full h-48 object-cover transition-transform hover:scale-105\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 21\n              }, this)\n            }, idx, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 19\n            }, this);\n          }) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-span-2 text-center text-gray-500\",\n            children: \"No images available\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"md:col-span-2 xl:col-span-4 xl:pl-12 flex flex-col justify-center gap-6\",\n          children: /*#__PURE__*/_jsxDEV(ProductInfo, {\n            productInfo: productInfo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), showModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: closeModal,\n          className: \"absolute top-2 right-2 text-white text-2xl font-bold\",\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: modalImage,\n          alt: \"Large view\",\n          className: \"max-w-full max-h-[80vh] rounded-lg shadow-lg\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductDetails, \"jSkiVujM3K2iY1A7TWkhD27K2+g=\", false, function () {\n  return [useLocation];\n});\n_c = ProductDetails;\nexport default ProductDetails;\nvar _c;\n$RefreshReg$(_c, \"ProductDetails\");","map":{"version":3,"names":["React","useState","useEffect","useLocation","Breadcrumbs","ProductInfo","bestSellerCtx","require","context","ProductDetails","location","productInfo","setProductInfo","images","prevLocation","setPrevLocation","showModal","setShowModal","modalImage","setModalImage","state","item","name","price","description","color","categories","tags","sku","pathname","openImage","src","closeModal","length","map","fileName","idx","e","console","warn"],"sources":["C:/Users/ADMIN/OneDrive - FPT Corporation/Documents/GitHub/Thriftorium/src/pages/ProductDetails/ProductDetails.js"],"sourcesContent":["// src/pages/ProductDetails/ProductDetails.js\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport Breadcrumbs from \"../../components/pageProps/Breadcrumbs\";\r\nimport ProductInfo from \"../../components/pageProps/productDetails/ProductInfo\";\r\n\r\n// Tạo context để import tất cả file trong thư mục bestSeller\r\nconst bestSellerCtx = require.context(\r\n  \"../../assets/images/products/bestSeller\",\r\n  false,\r\n  /\\.(png|jpe?g|webp)$/\r\n);\r\n\r\nconst ProductDetails = () => {\r\n  const location = useLocation();\r\n\r\n  // Khởi tạo luôn có key images\r\n  const [productInfo, setProductInfo] = useState({ images: [] });\r\n  const [prevLocation, setPrevLocation] = useState(\"\");\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [modalImage, setModalImage] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (location.state?.item) {\r\n      setProductInfo({ ...location.state.item, images: location.state.item.images || [] });\r\n    } else {\r\n      // Hardcode sample để test\r\n      setProductInfo({\r\n        name: \"Round Table Clock\",\r\n        price: 44.0,\r\n        description: [\r\n          \"Lorem ipsum dolor sit amet consectetur adipiscing elit. Hic excepturi quibusdam odio deleniti reprehenderit facilis.\",\r\n        ],\r\n        color: \"Black\",\r\n        categories: [\"Spring collection\", \"Streetwear\", \"Women\"],\r\n        tags: [\"featured\"],\r\n        sku: \"N/A\",\r\n        images: [\r\n          \"roundtableclock1.webp\",\r\n          \"roundtableclock2.webp\",\r\n          \"roundtableclock3.webp\",\r\n          \"roundtableclock4.webp\",\r\n        ],\r\n      });\r\n    }\r\n    setPrevLocation(location.pathname);\r\n  }, [location]);\r\n\r\n  // Luôn luôn là mảng (ít nhất là [])\r\n  const images = productInfo.images || [];\r\n\r\n  const openImage = (src) => {\r\n    setModalImage(src);\r\n    setShowModal(true);\r\n  };\r\n  const closeModal = () => setShowModal(false);\r\n\r\n  if (!productInfo) return <div>Loading...</div>;\r\n\r\n  return (\r\n    <div className=\"w-full mx-auto border-b-[1px] border-b-gray-300 bg-gray-100\">\r\n      <div className=\"max-w-container mx-auto px-4 pt-6\">\r\n        <Breadcrumbs title=\"Product\" prevLocation={prevLocation} />\r\n\r\n        <div className=\"mt-6 grid grid-cols-1 md:grid-cols-2 xl:grid-cols-6 gap-4 pb-10\">\r\n          {/* Gallery ảnh nhỏ */}\r\n          <div className=\"xl:col-span-2 grid grid-cols-2 gap-4\">\r\n            {images.length > 0 ? (\r\n              images.map((fileName, idx) => {\r\n                let src = \"\";\r\n                try {\r\n                  src = bestSellerCtx(`./${fileName}`);\r\n                } catch (e) {\r\n                  console.warn(\"Không tìm thấy ảnh\", fileName);\r\n                }\r\n                if (!src) return null;\r\n                return (\r\n                  <div\r\n                    key={idx}\r\n                    className=\"cursor-pointer overflow-hidden rounded-lg\"\r\n                    onClick={() => openImage(src)}\r\n                  >\r\n                    <img\r\n                      src={src}\r\n                      alt={`product-${idx}`}\r\n                      className=\"w-full h-48 object-cover transition-transform hover:scale-105\"\r\n                    />\r\n                  </div>\r\n                );\r\n              })\r\n            ) : (\r\n              <div className=\"col-span-2 text-center text-gray-500\">\r\n                No images available\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Thông tin sản phẩm */}\r\n          <div className=\"md:col-span-2 xl:col-span-4 xl:pl-12 flex flex-col justify-center gap-6\">\r\n            <ProductInfo productInfo={productInfo} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Modal hiển thị ảnh lớn */}\r\n      {showModal && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50\">\r\n          <div className=\"relative p-4\">\r\n            <button\r\n              onClick={closeModal}\r\n              className=\"absolute top-2 right-2 text-white text-2xl font-bold\"\r\n            >\r\n              &times;\r\n            </button>\r\n            <img\r\n              src={modalImage}\r\n              alt=\"Large view\"\r\n              className=\"max-w-full max-h-[80vh] rounded-lg shadow-lg\"\r\n            />\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductDetails;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}